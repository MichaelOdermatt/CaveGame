[gd_resource type="ShaderMaterial" load_steps=7 format=3 uid="uid://jtu0ch5luatd"]

[ext_resource type="Texture2D" uid="uid://8cv6hudn7042" path="res://Assets/Textures/Stone_13-512x512.png" id="1_7uy4l"]
[ext_resource type="Texture2D" uid="uid://cina1qsedxj7k" path="res://Assets/Textures/Stone_10-512x512.png" id="2_vsy8v"]
[ext_resource type="Texture2D" uid="uid://bsqtpn2udt20e" path="res://Assets/Textures/Base.png" id="3_fjtbl"]
[ext_resource type="Texture2D" uid="uid://ddj2g7gig7j47" path="res://Assets/Textures/Normals/Stone_13-512x512-normal.png" id="4_53bfe"]
[ext_resource type="Texture2D" uid="uid://b6nc8o0xqmnfy" path="res://Assets/Textures/Normals/Stone_10-512x512-normal.png" id="5_2dx68"]

[sub_resource type="Shader" id="Shader_dqtlw"]
code = "// Shader from: https://github.com/bikemurt/Godot_TestProject
shader_type spatial;
render_mode blend_mix, depth_draw_opaque, cull_back, diffuse_lambert, specular_schlick_ggx;

uniform sampler2D AlbedoRough1 : source_color;
uniform sampler2D AlbedoRough2 : source_color;
uniform sampler2D Normal1;
uniform sampler2D Normal2;

uniform sampler2D BlendMap;

uniform float UVFactor1 = 10;
uniform float UVFactor2 = 10;

uniform float Metal1 = 0.0;
uniform float Metal2 = 0.0;

uniform float Spec1 = 0.0;
uniform float Spec2 = 0.0;

void fragment() {
	vec2 UVx1 = UV * UVFactor1;
	vec2 UVx2 = UV * UVFactor2;

	vec3 factor = texture(BlendMap, UV).xxx;

	vec3 a1 = texture(AlbedoRough1, UVx1).xyz;
	vec3 a2 = texture(AlbedoRough2, UVx2).xyz;

	float r1 = texture(AlbedoRough1, UVx1).w;
	float r2 = texture(AlbedoRough2, UVx2).w;

	vec3 n1 = texture(Normal1, UVx1).xyz;
	vec3 n2 = texture(Normal2, UVx2).xyz;

	ALBEDO = mix(a1, a2, factor);
	ROUGHNESS = mix(r1, r2, factor.r);
	METALLIC = mix(Metal1, Metal2, factor.r);
	SPECULAR = mix(Spec1, Spec2, factor.r);
	NORMAL_MAP = mix(n1, n2, factor);
}"

[resource]
render_priority = 0
shader = SubResource("Shader_dqtlw")
shader_parameter/UVFactor1 = 14.0
shader_parameter/UVFactor2 = 14.0
shader_parameter/Metal1 = 0.0
shader_parameter/Metal2 = 0.0
shader_parameter/Spec1 = 0.0
shader_parameter/Spec2 = 0.0
shader_parameter/AlbedoRough1 = ExtResource("1_7uy4l")
shader_parameter/AlbedoRough2 = ExtResource("2_vsy8v")
shader_parameter/Normal1 = ExtResource("4_53bfe")
shader_parameter/Normal2 = ExtResource("5_2dx68")
shader_parameter/BlendMap = ExtResource("3_fjtbl")
